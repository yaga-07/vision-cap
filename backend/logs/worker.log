2025-12-09 10:41:55,262 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 10:41:55,262 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 10:41:57,497 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 10:41:57,505 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 10:41:57,509 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 10:41:57,509 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
2025-12-09 11:15:48,060 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 11:15:48,062 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 11:15:55,000 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 11:15:55,009 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 11:15:55,012 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 11:15:55,013 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
2025-12-09 11:18:06,728 - __main__ - INFO - Processing: /app/images/processing/IMG_0649.HEIC
2025-12-09 11:18:18,267 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/images/points?wait=true "HTTP/1.1 404 Not Found"
2025-12-09 11:18:18,268 - __main__ - ERROR - Error processing image /app/images/processing/IMG_0649.HEIC: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `images` doesn\'t exist!"},"time":0.000112208}'
Traceback (most recent call last):
  File "/app/worker.py", line 178, in process_image
    qdrant_client.upsert(
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/qdrant_client.py", line 1364, in upsert
    return self._client.upsert(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/qdrant_remote.py", line 1766, in upsert
    http_result = self.openapi_client.points_api.upsert_points(
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 1667, in upsert_points
    return self._build_for_upsert_points(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/http/api/points_api.py", line 852, in _build_for_upsert_points
    return self.api_client.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 79, in request
    return self.send(request, type_)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/qdrant_client/http/api_client.py", line 102, in send
    raise UnexpectedResponse.for_response(response)
qdrant_client.http.exceptions.UnexpectedResponse: Unexpected Response: 404 (Not Found)
Raw response content:
b'{"status":{"error":"Not found: Collection `images` doesn\'t exist!"},"time":0.000112208}'
2025-12-09 11:18:18,772 - __main__ - INFO - Processing: /app/images/processing/IMG_1755.heic
2025-12-09 11:20:53,163 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 11:20:53,164 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 11:20:59,437 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 11:20:59,445 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 11:20:59,537 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/images "HTTP/1.1 200 OK"
2025-12-09 11:20:59,538 - __main__ - INFO - Created collection: images
2025-12-09 11:20:59,650 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/images/index?wait=true "HTTP/1.1 200 OK"
2025-12-09 11:20:59,751 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/images/index?wait=true "HTTP/1.1 200 OK"
2025-12-09 11:20:59,752 - __main__ - INFO - Created full-text indexes on tags and caption
2025-12-09 11:20:59,816 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/faces "HTTP/1.1 200 OK"
2025-12-09 11:20:59,817 - __main__ - INFO - Created collection: faces
2025-12-09 11:20:59,818 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 11:20:59,818 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
2025-12-09 11:21:58,560 - __main__ - INFO - Processing: /app/images/processing/IMG_2214.heic
2025-12-09 11:22:06,024 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/images/points?wait=true "HTTP/1.1 200 OK"
2025-12-09 11:22:06,026 - httpx - INFO - HTTP Request: PUT http://qdrant:6333/collections/faces/points?wait=true "HTTP/1.1 200 OK"
2025-12-09 11:22:06,267 - __main__ - INFO - âœ“ Processed c7949300-da84-4267-9dbc-6a9d7ec54b42 in 7.70s (1 faces)
2025-12-09 11:25:42,948 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 11:25:42,949 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 11:25:49,368 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 11:25:49,378 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 11:25:49,393 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 11:25:49,393 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
2025-12-09 11:28:18,872 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 11:28:18,873 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 11:28:25,496 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 11:28:25,501 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 11:28:25,506 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 11:28:25,506 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
2025-12-09 11:29:25,583 - sentence_transformers.SentenceTransformer - INFO - Use pytorch device_name: cpu
2025-12-09 11:29:25,584 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: clip-ViT-B-32
2025-12-09 11:29:31,542 - __main__ - INFO - Starting Vision Cap Worker...
2025-12-09 11:29:31,549 - httpx - INFO - HTTP Request: GET http://qdrant:6333/collections "HTTP/1.1 200 OK"
2025-12-09 11:29:31,553 - __main__ - INFO - Watching directory: /app/images/raw
2025-12-09 11:29:31,553 - __main__ - INFO - Worker is running. Press Ctrl+C to stop.
